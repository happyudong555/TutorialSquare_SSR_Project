// @flow

const LIMIT = 200

export default (displayName: string) => {
  let generatedClasses = {}
  let warningSeen = false

  return (className: string) => {
    if (!warningSeen) {
      generatedClasses[className] = true
      if (Object.keys(generatedClasses).length >= LIMIT) {
        // Unable to find latestRule in test environment.
        /* eslint-disable no-console, prefer-template */
<<<<<<< HEAD
<<<<<<< HEAD
        console.warn(
          `Over ${LIMIT} classes were generated for component ${displayName}. \n` +
            'Consider using the attrs method, together with a style object for frequently changed styles.\n' +
            'Example:\n' +
            '  const Component = styled.div.attrs({\n' +
            '    style: ({ background }) => ({\n' +
            '      background,\n' +
            '    }),\n' +
            '  })`width: 100%;`\n\n' +
            '  <Component />',
        )
=======
=======
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
        console.warn(`Over ${LIMIT} classes were generated for component ${displayName}. ` +
          'Consider using style property for frequently changed styles.\n' +
          'Example:\n' +
          '  const StyledComp = styled.div`width: 100%;`\n' +
          '  <StyledComp style={{ background: background }} />')
<<<<<<< HEAD
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
=======
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
        warningSeen = true
        generatedClasses = {}
      }
    }
  }
}
