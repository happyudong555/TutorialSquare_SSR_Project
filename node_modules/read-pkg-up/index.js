'use strict';
<<<<<<< HEAD
<<<<<<< HEAD
const findUp = require('find-up');
const readPkg = require('read-pkg');

module.exports = opts => {
	return findUp('package.json', opts).then(fp => {
=======
=======
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
var findUp = require('find-up');
var readPkg = require('read-pkg');

module.exports = function (opts) {
	return findUp('package.json', opts).then(function (fp) {
<<<<<<< HEAD
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
=======
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
		if (!fp) {
			return {};
		}

<<<<<<< HEAD
<<<<<<< HEAD
		return readPkg(fp, opts).then(pkg => ({pkg, path: fp}));
	});
};

module.exports.sync = opts => {
	const fp = findUp.sync('package.json', opts);
=======
=======
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
		return readPkg(fp, opts).then(function (pkg) {
			return {
				pkg: pkg,
				path: fp
			};
		});
	});
};

module.exports.sync = function (opts) {
	var fp = findUp.sync('package.json', opts);
<<<<<<< HEAD
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b
=======
>>>>>>> 3e7cc9eba236ff5c5205c34bae31be88b995768b

	if (!fp) {
		return {};
	}

	return {
		pkg: readPkg.sync(fp, opts),
		path: fp
	};
};
